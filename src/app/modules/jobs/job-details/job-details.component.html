<div class="flex flex-col w-full">
    <div class="bg-card">
        <div class="flex flex-col w-full max-w-screen-xl mx-auto px-6 sm:px-8">
            <div class="flex flex-row items-center my-8">
                <!-- Avatar and name -->
                <div class="flex flex-grow items-center min-w-0">
                    <div class="flex-0 w-16 h-16 rounded-full bg-primary flex items-center justify-center">
                        <mat-icon svgIcon="mat_solid:work" [ngStyle]="{'color': 'white'}"
                                  class="icon-size-10"></mat-icon>
                    </div>
                    <div class="flex flex-col min-w-0 mr-4">
                        <div
                            class="text-2xl md:text-5xl font-medium tracking-tight leading-7 md:leading-snug truncate">
                            تفاصيل الوظيفة
                        </div>
                    </div>
                </div>
                <!-- Action -->
                <button
                    mat-flat-button
                    [color]="'primary'"
                    (click)="backToJobs()">
                    <mat-icon class="icon-size-5" svgIcon="mat_solid:arrow_forward_ios"></mat-icon>
                    <span class="mr-2">الرجوع للقائمة</span>
                </button>
            </div>
        </div>

    </div>
    <!-- Attachments -->
    <div class="flex-auto -mt-px pt-4 sm:pt-6 p-4 mx-8">
        <div class="flex lg:flex-row flex-col gap-4 w-full">
            <div class="w-full p-6 bg-card shadow rounded-2xl overflow-auto">
                <div class="flex flex-col w-full gap-4">
                    <div class="flex flex-grow font-bold text-lg sm:block hidden"
                    >شكاوي
                    </div>
                    <div class="flex flex-col w-full" *ngFor="let complain of complains">
                        <div class="flex flex-row w-full justify-between">
                            <div>{{complain?.id}}</div>
                            <div>{{complain?.created_at | dateTransform}}</div>
                        </div>
                        {{complain?.comment}}
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Main -->
    <div class="flex-auto -mt-px pt-4 sm:pt-6 p-4 mx-8">
        <div class="flex lg:flex-row flex-col gap-4 w-full">
            <div class="w-full p-6 bg-card shadow rounded-2xl overflow-auto">
                <div class="flex flex-row w-full justify-between">
                    <div class="font-bold">تفاصيل</div>
                   <div class="flex flex-row justify-end">
                       <button
                           [matTooltip]="'تحرير الوظيفة'"
                           mat-icon-button
                           (click)="editJob()">
                           <mat-icon class="icon-size-5" svgIcon="mat_solid:edit" [ngClass]="'text-primary'"></mat-icon>
                       </button>
                       <button
                           [matTooltip]="'حذف الوظيفة'"
                           mat-icon-button
                           (click)="deleteJob()">
                           <mat-icon [ngClass]="'text-red-500 icon-size-5'"
                                     svgIcon="heroicons_solid:trash"></mat-icon>
                       </button>
                   </div>
                </div>
                <div class="flex sm:flex-row flex-col w-full gap-6">

                    <div class="sm:w-1/2 w-full">
                        <div>
                            <div class="text-sm font-bold">{{'الرقم التسلسلي'}}</div>
                            <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                {{jobDetail?.id}}
                            </div>
                        </div>
                        <div>
                            <div class="text-sm font-bold">{{'اسم الوظيفة'}}</div>
                            <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                {{jobDetail?.name}}
                            </div>
                        </div>
                        <div>
                            <div class="text-sm font-bold">{{'التصنيف'}}</div>
                            <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                {{jobDetail?.category?.name}}
                            </div>
                        </div>


                        <div class="flex flex-row gap-2">
                            <div class="w-1/2">
                                <div>
                                    <div class="text-sm font-bold">{{'تاريخ البدء'}}</div>
                                    <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                        {{jobDetail?.start_date | dateTransform}}
                                    </div>
                                </div>
                            </div>
                            <div class="w-1/2">
                                <div>
                                    <div class="text-sm font-bold">{{'تاريخ الانتهاء'}}</div>
                                    <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                        {{jobDetail?.end_date | dateTransform}}
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div>
                            <div class="text-sm font-bold">{{'وصف الوظيفة'}}</div>
                            <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                {{jobDetail?.description}}
                            </div>
                        </div>
                        <div>
                            <div class="text-sm font-bold">{{'العامل المسؤول'}}</div>
                            <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                {{jobDetail?.assigned_to?.email}}
                            </div>
                        </div>
                    </div>
                    <div class="sm:w-1/2 w-full">
                        <div>
                            <div class="text-sm font-bold">{{'موقعا'}}</div>
                            <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                {{jobDetail?.location?.address}}
                            </div>
                        </div>

                        <google-map
                            [options]="{streetViewControl:false}"
                            [center]="{lat: parseFloat(jobDetail?.location?.lat), lng: parseFloat(jobDetail?.location?.long)}"
                            [zoom]="18" height="300px" width="100%">
                            <map-marker
                                [position]="{lat: parseFloat(jobDetail?.location?.lat), lng: parseFloat(jobDetail?.location?.long)}"></map-marker>
                            <map-circle
                                [options]="{center:{lat: parseFloat(jobDetail?.location?.lat), lng: parseFloat(jobDetail?.location?.long)},visible: true, radius:this.radius, fillColor:'#a17a3f', strokeColor: '#a17a3f'}"></map-circle>
                            <map-info-window>{{"Info Window content" }}</map-info-window>

                        </google-map>
                        <div class="mt-2">
                            <div class="text-sm font-bold">{{'نصف القطر'}}</div>
                            <div class="border rounded-md p-2 mt-1 mb-4 capitalize">
                                {{'add radius'}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
